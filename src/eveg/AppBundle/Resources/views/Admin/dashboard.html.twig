{# app/Resources/views/Admin/dashboard.html.twig #}

{% extends "evegAppBundle:Admin:layout.html.twig" %}

{% block title %} Dashboard | {{ parent() }} {% endblock %}

{% block body %}

	{{ parent() }}

	<div class="row whiteRow">
		<div class="jumbotron admin">
			<h1>Tableau de bord</h1>
		</div>
		<div class="col-md-2"></div>
		<div class="col-md-4">
			<div class="row">
				<div class="col-md-12">
					{# top users #}
					{{ render(controller("evegUserBundle:Default:topUsers")) }}
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="thumbnail thumb-blue">
						<div class="caption">
							<h2>Feedbacks<small> (10 derniers)</small></h2>
							<div class="row">
								<table class="table table-striped table-condensate">
									<tr class="">
										<th>Utilisateur</th>
										<th>Date</th>
										<th>Message</th>
										<th>Syntaxon</th>
									</tr>
									{% for feedback in lastFeedbacks %}
										<tr>
											{% if feedback.user is not null %}
												<td>{{ feedback.user.username }}</td>
											{% else %}
												<td>Anon.</td>
											{% endif %}
											<td>{{ feedback.date|date('d-m-y') }}</td>
											<td><div class="text-center" data-tooltip="tooltip" title="{{ feedback.message }}"><i class="fa fa-ellipsis-h"></i></div></td>
											<td><div class="text-center" data-tooltip="tooltip" title="{{ feedback.syntaxon }}"><i class="fa fa-ellipsis-h"></i></div></td>
										</tr>
									{% endfor %}
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-6">
			{# top users #}
			{{ render(controller("evegAppBundle:Admin:getDocumentsInfos")) }}
		</div>
	</div>

{% endblock %}
